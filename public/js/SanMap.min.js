function SanMapProjection(e){var n=e;this.pixelOrigin_=new google.maps.Point(n/2,n/2),this.pixelsPerLonDegree_=n/360,this.fromLatLngToPoint=function(e,n){var t=n||new google.maps.Point(0,0);return t.x=this.pixelOrigin_.x+e.lng()*this.pixelsPerLonDegree_*2,t.y=this.pixelOrigin_.y-e.lat()*this.pixelsPerLonDegree_*2,t},this.fromPointToLatLng=function(e){var n=(e.x-this.pixelOrigin_.x)/this.pixelsPerLonDegree_/2,t=(-e.y+this.pixelOrigin_.y)/this.pixelsPerLonDegree_/2;return new google.maps.LatLng(t,n,!0)}}function SanMapType(e,n,t,o){this.getImageMapType=function(a){return o=o||512,new google.maps.ImageMapType({getTileUrl:function(e,n){var o=e.x,g=e.y,r=1<<n;return 0>g||g>=r||a!==!0&&(0>o||o>=r)?t(n,-1,-1):t(n,(o%r+r)%r,g)},tileSize:new google.maps.Size(o,o),maxZoom:n,minZoom:e})}}function SanMap(){}SanMap.createMap=function(e,n,t,o,a,g){if(void 0===n||0==n.length)return console.warn("SanMap: No map types were parsed with SanMap.createMap."),null;var r=new google.maps.Map(e,{zoom:t||2,center:o||SanMap.getLatLngFromPos(0,0),streetViewControl:!1,mapTypeControlOptions:{mapTypeIds:Object.keys(n)}});for(var i in n)if(n.hasOwnProperty(i)){var s=n[i].getImageMapType(a||!1);s.name=s.alt=i,s.projection=new SanMapProjection(s.tileSize.width),r.mapTypes.set(i,s)}return r.setMapTypeId(g||Object.keys(n)[0]),a||(bounds=new google.maps.LatLngBounds(new google.maps.LatLng(-90,-90),new google.maps.LatLng(90,90)),google.maps.event.addListener(r,"center_changed",function(){if(!bounds.contains(r.getCenter())){var e=r.getCenter().lng(),n=r.getCenter().lat();e<bounds.getSouthWest().lng()&&(e=bounds.getSouthWest().lng()),e>bounds.getNorthEast().lng()&&(e=bounds.getNorthEast().lng()),n<bounds.getSouthWest().lat()&&(n=bounds.getSouthWest().lat()),n>bounds.getNorthEast().lat()&&(n=bounds.getNorthEast().lat()),r.setCenter(new google.maps.LatLng(n,e))}})),r},SanMap.getLatLngFromPos=function(e,n){return"object"==typeof e?new google.maps.LatLng(e.y/3e3*90,e.x/3e3*90):new google.maps.LatLng(n/3e3*90,e/3e3*90)},SanMap.getPosFromLatLng=function(e){return{x:3e3*e.lng()/90,y:3e3*e.lat()/90}};